<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[프로그래머스] SQL | Algorighm</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="[프로그래머스] SQL" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="알고리즘 풀기 108일차" />
<meta property="og:description" content="알고리즘 풀기 108일차" />
<link rel="canonical" href="http://localhost:4000/2021/04/28/programmers" />
<meta property="og:url" content="http://localhost:4000/2021/04/28/programmers" />
<meta property="og:site_name" content="Algorighm" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-28T03:29:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[프로그래머스] SQL" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-04-28T03:29:00+09:00","datePublished":"2021-04-28T03:29:00+09:00","description":"알고리즘 풀기 108일차","headline":"[프로그래머스] SQL","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2021/04/28/programmers"},"url":"http://localhost:4000/2021/04/28/programmers"}</script>
<!-- End Jekyll SEO tag -->


<meta name="keywords" content="" />

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" href="/favicon.ico"/>
<link rel="alternate" type="application/rss+xml" title="Algorighm - B's Algorighm Blog" href="/feed.xml" />
<link rel="stylesheet" type="text/css" href="/assets/css/base.css" />
<link rel="stylesheet" type="text/css" href="/assets/css/highlight.css" />

<!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->


<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async ></script>


<script src="/assets/script/jekyllpaper.js" async ></script>
<script src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js" onload="javascript:loadMermaid();" async></script>


</head>
<body>
  <div class="container-wrapper">
    <header class="container-header">
      <div class="header-info">
  <span class="header-info-name">Algorighm</span>
  <span class="header-info-desc">B's Algorighm Blog</span>
</div>
<nav class="header-nav">
  <ul class="header-main-nav">
  
    <li class="header-main-nav-item"><a href="/">Index</a></li>
  
    <li class="header-main-nav-item"><a href="/category">Categories</a></li>
  
    <li class="header-main-nav-item"><a href="https://github.com/ghosind/Jekyll-Paper">Jekyll Paper</a></li>
  
    <li class="header-main-nav-item"><a href="/about">About</a></li>
  
  </ul>
</nav>
    </header>
    <main class="container-main">
      <article class="container-post">
  <div class="post-title">
    <h1>[프로그래머스] SQL</h1>
  </div>
  <div class="post-author">
    <span>Hapbee</span>
  </div>
  <div class="post-content">
    <p>알고리즘 풀기 108일차</p>

<p>오늘은 SQL 데이~
:)</p>

<h1 id="최솟값-구하기">최솟값 구하기</h1>

<p>동물 보호소에 가장 먼저 들어온 동물은 언제 들어왔는지 조회하는 SQL 문을 작성해주세요.</p>

<h2 id="-풀이-">&lt; 풀이 &gt;</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="nb">DATETIME</span><span class="p">)</span> <span class="k">AS</span> <span class="err">시간</span> <span class="k">FROM</span> <span class="n">ANIMAL_INS</span>

</code></pre></div></div>

<p>where절 필요없이 min이용해서 시간이 제일 작은 것 출력</p>

<hr />

<h1 id="동물-수-구하기">동물 수 구하기</h1>

<p>동물 보호소에 동물이 몇 마리 들어왔는지 조회하는 SQL 문을 작성해주세요.</p>

<h2 id="-풀이--1">&lt; 풀이 &gt;</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">ANIMAL_INS</span>

</code></pre></div></div>

<p>행이 몇 개 있는지 count함수로 반환</p>

<hr />

<h1 id="중복-제거하기">중복 제거하기</h1>

<p>동물 보호소에 들어온 동물의 이름은 몇 개인지 조회하는 SQL 문을 작성해주세요.</p>

<p>이때 이름이 NULL인 경우는 집계하지 않으며 중복되는 이름은 하나로 칩니다.</p>

<h2 id="-풀이--2">&lt; 풀이 &gt;</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">NAME</span><span class="p">)</span> <span class="k">AS</span> <span class="k">count</span>
<span class="k">FROM</span> <span class="n">ANIMAL_INS</span>

</code></pre></div></div>

<p>중복 없앤 이름이 몇 개인지 반환</p>

<hr />

<h1 id="고양이와-개는-몇-마리-있을까">고양이와 개는 몇 마리 있을까</h1>

<p>동물 보호소에 들어온 동물 중 고양이와 개가 각각 몇 마리인지 조회하는 SQL문을 작성해주세요.</p>

<p>이때 고양이를 개보다 먼저 조회해주세요.</p>

<h2 id="-풀이--3">&lt; 풀이 &gt;</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">ANIMAL_TYPE</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">as</span> <span class="k">count</span>
<span class="k">FROM</span> <span class="n">ANIMAL_INS</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">ANIMAL_TYPE</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">ANIMAL_TYPE</span>

</code></pre></div></div>

<p>동물 타입으로 그룹핑 –&gt; 개와 고양이로 나뉜다.</p>

<p>여기서 고양이 cat이 더 먼저 나와야한다. dog 개가 알파벳 상으로 뒤라서 order by로 순서를 지정한다.</p>

<hr />

<h1 id="null-처리하기">NULL 처리하기</h1>

<p>입양 게시판에 동물 정보를 게시하려 합니다. 동물의 생물 종, 이름, 성별 및 중성화 여부를 아이디 순으로 조회하는 SQL문을 작성해주세요. 이때 프로그래밍을 모르는 사람들은 NULL이라는 기호를 모르기 때문에, 이름이 없는 동물의 이름은 “No name”으로 표시해 주세요.</p>

<h2 id="-풀이--4">&lt; 풀이 &gt;</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">ANIMAL_TYPE</span><span class="p">,</span> <span class="n">IFNULL</span><span class="p">(</span><span class="n">NAME</span><span class="p">,</span> <span class="s1">'No name'</span><span class="p">),</span> <span class="n">SEX_UPON_INTAKE</span>
<span class="k">FROM</span> <span class="n">ANIMAL_INS</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">ANIMAL_ID</span>

</code></pre></div></div>

<p>mysql의 isnull함수를 사용해서 NAME 값이 NULL이면 No name으로 설정</p>

<hr />

<h1 id="입양-시각-구하기1">입양 시각 구하기(1)</h1>

<p>보호소에서는 몇 시에 입양이 가장 활발하게 일어나는지 알아보려 합니다.</p>

<p>09:00부터 19:59까지, 각 시간대별로 입양이 몇 건이나 발생했는지 조회하는 SQL문을 작성해주세요.</p>

<p>이때 결과는 시간대 순으로 정렬해야 합니다.</p>

<h2 id="-풀이--5">&lt; 풀이 &gt;</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">HOUR</span><span class="p">(</span><span class="nb">DATETIME</span><span class="p">)</span> <span class="k">AS</span> <span class="n">HOUR</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="k">COUNT</span>
<span class="k">FROM</span> <span class="n">ANIMAL_OUTS</span>
<span class="k">WHERE</span> <span class="n">HOUR</span><span class="p">(</span><span class="nb">DATETIME</span><span class="p">)</span> <span class="k">BETWEEN</span> <span class="s1">'9'</span> <span class="k">AND</span> <span class="s1">'19'</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">HOUR</span><span class="p">(</span><span class="nb">DATETIME</span><span class="p">)</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">HOUR</span><span class="p">(</span><span class="nb">DATETIME</span><span class="p">)</span>

<span class="c1">-- BETWEEN 아닌 &gt; 8 만 했더니 틀림</span>

</code></pre></div></div>

<p>테스트케이스에 끝이 19라서 끝은 생각안하고 부등호로 9부터 찍었는데 오류가 났다.</p>

<p>찾아보니 해당 시간 BETWEEN으로 설정해줘야 하는 문제!</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DATETIME 형식이 년, 월, 일, 시, 분, 초 이렇게 된 타입인데 우리는 분은 다 짜르고 시간만 볼 것이기에 HOUR함수를 통해 DATETIME에서 시간만 뽑아낼 수 있다.
</code></pre></div></div>

<hr />

<h1 id="루시와-엘라-찾기">루시와 엘라 찾기</h1>

<p>동물 보호소에 들어온 동물 중 이름이 Lucy, Ella, Pickle, Rogan, Sabrina, Mitty인 동물의 아이디와 이름, 성별 및 중성화 여부를 조회하는 SQL 문을 작성해주세요.</p>

<h2 id="-풀이--6">&lt; 풀이 &gt;</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">ANIMAL_ID</span><span class="p">,</span> <span class="n">NAME</span><span class="p">,</span> <span class="n">SEX_UPON_INTAKE</span>
<span class="k">FROM</span> <span class="n">ANIMAL_INS</span>
<span class="k">WHERE</span> <span class="n">NAME</span><span class="o">=</span><span class="s1">'Ella'</span> <span class="k">OR</span> <span class="n">NAME</span> <span class="o">=</span> <span class="s1">'Lucy'</span> <span class="k">OR</span> <span class="n">NAME</span> <span class="o">=</span> <span class="s1">'Pickle'</span> <span class="k">OR</span> <span class="n">NAME</span><span class="o">=</span><span class="s1">'Rogan'</span> <span class="k">OR</span> <span class="n">NAME</span><span class="o">=</span><span class="s1">'Sabrina'</span> <span class="k">OR</span> <span class="n">NAME</span><span class="o">=</span><span class="s1">'Mitty'</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">ANIMAL_ID</span>

</code></pre></div></div>

<p>이름 하나하나 비교해서 넣어줬다.</p>

<p>where절 통해서 해당 이름인 동물들 출력</p>

<hr />

<h1 id="이름에-el이-들어가는-동물-찾기">이름에 el이 들어가는 동물 찾기</h1>

<p>보호소에 돌아가신 할머니가 기르던 개를 찾는 사람이 찾아왔습니다. 이 사람이 말하길 할머니가 기르던 개는 이름에 ‘el’이 들어간다고 합니다.</p>

<p>동물 보호소에 들어온 동물 이름 중, 이름에 “EL”이 들어가는 개의 아이디와 이름을 조회하는 SQL문을 작성해주세요.</p>

<p>이때 결과는 이름 순으로 조회해주세요. 단, 이름의 대소문자는 구분하지 않습니다.</p>

<h2 id="-풀이--7">&lt; 풀이 &gt;</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">ANIMAL_ID</span><span class="p">,</span> <span class="n">NAME</span>
<span class="k">FROM</span> <span class="n">ANIMAL_INS</span>
<span class="k">WHERE</span> <span class="n">ANIMAL_TYPE</span> <span class="o">=</span> <span class="s1">'Dog'</span> <span class="k">AND</span> <span class="k">UPPER</span><span class="p">(</span><span class="n">NAME</span><span class="p">)</span> <span class="k">LIKE</span> <span class="s1">'%EL%'</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">NAME</span>

</code></pre></div></div>

<p>이름에 ~가 들어간, 정규표현식 및 그런 필터링을 찾아보았다.</p>

<p>생각한대로 % + ^ 이런 형식이 있었고 이럴 때는 칼럼 뒤에 LIKE를 써준다.</p>

<p>대소문자 구분하지 않기에 UPPER 함수를 통해 다 대문자로 올린뒤 EL로 확인.</p>

<hr />

<h1 id="중성화-여부-파악하기">중성화 여부 파악하기</h1>

<p>보호소의 동물이 중성화되었는지 아닌지 파악하려 합니다.</p>

<p>중성화된 동물은 SEX_UPON_INTAKE 컬럼에 ‘Neutered’ 또는 ‘Spayed’라는 단어가 들어있습니다.</p>

<p>동물의 아이디와 이름, 중성화 여부를 아이디 순으로 조회하는 SQL문을 작성해주세요.</p>

<p>이때 중성화가 되어있다면 ‘O’, 아니라면 ‘X’라고 표시해주세요.</p>

<h2 id="-풀이--8">&lt; 풀이 &gt;</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">ANIMAL_ID</span><span class="p">,</span> <span class="n">NAME</span><span class="p">,</span> <span class="n">IF</span><span class="p">(</span><span class="n">SEX_UPON_INTAKE</span> <span class="k">LIKE</span> <span class="s1">'Neutered%'</span> <span class="k">OR</span> <span class="n">SEX_UPON_INTAKE</span> <span class="k">LIKE</span> <span class="s1">'Spayed%'</span><span class="p">,</span> <span class="s1">'O'</span><span class="p">,</span> <span class="s1">'X'</span><span class="p">)</span> <span class="k">AS</span> <span class="err">중성화</span>
<span class="k">FROM</span> <span class="n">ANIMAL_INS</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">ANIMAL_ID</span>

</code></pre></div></div>

<p>if문을 이용해서 SEX_UPON_INTAKE의 값이 Neutered로 시작하거나 Spayed로 시작하는지 확인해서 O, X로 값 세팅</p>

<hr />

<h1 id="datetime에서-date로-형-변환">DATETIME에서 DATE로 형 변환</h1>

<p>ANIMAL_INS 테이블에 등록된 모든 레코드에 대해, 각 동물의 아이디와 이름, 들어온 날짜1를 조회하는 SQL문을 작성해주세요. 이때 결과는 아이디 순으로 조회해야 합니다.</p>

<h2 id="-풀이--9">&lt; 풀이 &gt;</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">ANIMAL_ID</span><span class="p">,</span> <span class="n">NAME</span><span class="p">,</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="nb">DATETIME</span><span class="p">,</span> <span class="s1">'%Y-%m-%d'</span><span class="p">)</span> <span class="k">AS</span> <span class="err">날짜</span> <span class="k">FROM</span> <span class="n">ANIMAL_INS</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">ANIMAL_ID</span>

</code></pre></div></div>

<p>날짜 형식 년, 월, 일, 시, 분, 초 인것을 DATE_FORMAT을 이용해서 원하는 형식으로 바꿀 수 있다.</p>

<hr />

  </div>
  <div class="post-info">
    <div class="post-date">
      Written on 2021-04-28.
    </div>
    <div class="post-categories">
      <span>Categories: </span>
      
      <a href="/category/프로그래머스" class="post-category">프로그래머스</a>
      
      <a href="/category/sql" class="post-category">SQL</a>
      
    </div>
    <div class="post-tags">
      <span>Tags: </span>
      
    </div>
    <div class="post-tools">
      
      <div>
        <span>Next: </span><a href="/2021/04/29/programmers">[프로그래머스] 피보나치 수</a>
      </div>
      
      
      <div>
        <span>Previous: </span><a href="/2021/04/27/programmers">[프로그래머스] 카펫</a>
      </div>
      
    </div>
    
  </div>
</article>
    </main>
    <footer class="container-footer">
      <div class="footer-copyright">
  <span class="footer-copyright-text float-left">Copyright &copy; 2022. jihyeonmon.github.io.</span>
  <span class="footer-copyright-text float-right">
    Powered by <a href="https://jekyllrb.com/">Jekyll</a>, themed by <a href="https://github.com/ghosind/Jekyll-Paper">Jekyll-Paper</a>.
  </span>
</div>
    </footer>
  </div>
</body>
</html>